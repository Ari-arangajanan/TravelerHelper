package com.MITProject.TravelerHelperBot.botController;import com.MITProjectService.bot.Services.ServiceProviderService;import com.MITProjectService.bot.Services.ServicesService;import com.MITProjectService.bot.Services.SnUserService;import com.MITProjectService.bot.dao.jpaRepos.specification.SnServiceFilterSpecification;import com.MITProjectService.bot.domain.ServiceProvider;import com.MITProjectService.bot.domain.Services;import com.MITProjectService.bot.domain.SnUser;import com.MITProjectService.bot.request.ServiceRequest;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.jpa.domain.Specification;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.validation.Valid;import java.util.Optional;@RestController@RequestMapping("app/user/service")public class ServiceController {    private final ServicesService servicesService;    private final ServiceProviderService serviceProviderService;    public ServiceController(ServicesService servicesService, ServiceProviderService serviceProviderService1) {        this.servicesService = servicesService;        this.serviceProviderService = serviceProviderService1;    }    // get services    @PostMapping(value = "/getServices")    public ResponseEntity<?> getAllServices(@Valid @RequestBody ServiceRequest request){        if (request.getTelegramId() != 0) {            Optional<ServiceProvider> user = serviceProviderService.getUserByTelegrmId(request.getTelegramId());            if (user.isEmpty()) {                return ResponseEntity.badRequest().body("User not found");            }else request.setProviderId(user.get().getId());        }        Pageable pageRequest = PageRequest.of(request.getPage(), request.getLimit());        Specification<Services> servicesSpecification = SnServiceFilterSpecification.servicesSpecificationFilter(request);        Page<Services> allServicesPage = servicesService.getServicePage(pageRequest,servicesSpecification);        return ResponseEntity.ok(allServicesPage);    }}